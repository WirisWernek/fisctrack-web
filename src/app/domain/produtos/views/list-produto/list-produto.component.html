<main class="flex justify-center flex-col items-center w-full gap-8">
	<fieldset class="flex flex-col lg:flex-row items-center lg:items-end gap-4 w-[90%] lg:w-[80%] border rounded-lg border-emerald-300 p-4">
		<legend class="text-lg font-bold">Pesquisar Produto</legend>
		<form [formGroup]="form" class="flex flex-col lg:flex-row items-center lg:items-end gap-4 w-full ">
			<div class="flex flex-col gap-2 w-full lg:flex-1">
				<label for="id">ID</label>
				<p-inputnumber inputId="integeronly" placeholder="Digite o ID do produto" id="id" formControlName="id" />
			</div>
			<div class="flex flex-col gap-2 w-full lg:flex-2">
				<label for="descricao">Descrição</label>
				<input pInputText id="descricao" placeholder="Digite a descricao do produto" formControlName="descricao" />
			</div>
			<div class="flex flex-col gap-2 w-full lg:flex-1">
				<label for="situacao">Situação</label>
				<p-select formControlName="situacao" [options]="options" optionLabel="label" placeholder="Selecione uma situação" class="w-full" />
			</div>
			<div class="flex flex-row gap-2">
				<p-button label="Pesquisar" (click)="pesquisar()" (onKeyPress)="pesquisar()" />
				<p-button label="Limpar" [raised]="true" severity="warn" (click)="limpar()" (onKeyOPress)="limpar()" />
			</div>
		</form>
	</fieldset>

	<fieldset class="flex flex-col lg:flex-row items-center lg:items-end gap-4 w-[90%] lg:w-[80%] border rounded-lg border-emerald-300 p-4">
		<legend class="text-lg font-bold">Produtos Cadastrados</legend>
        <p-table [value]="produtos" stripedRows [tableStyle]="{ 'min-width': '20rem', width: '100%', 'align-self': 'center' }" class="w-full">
            <ng-template #header>
                <tr>
                    <th>Codigo</th>
                    <th>Descricao</th>
                    <th>Situação</th>
                    <th style="width: 10rem"></th>
                </tr>
            </ng-template>
            <ng-template #body let-produto>
                <tr>
                    <td>{{ produto.id }}</td>
                    <td>{{ produto.descricao }}</td>
                    <td>{{ produto.situacao }}</td>
                    <td class="flex justify-center gap-2">
                        <p-button icon="pi pi-pencil" (click)="editarProduto(produto)" severity="info" rounded />
                        <p-button icon="pi pi-trash" (click)="excluirProduto(produto)" severity="danger" rounded />
                        <p-button icon="pi pi-power-off" (click)="alterarSituacao(produto)" severity="secondary" rounded />
                    </td>
                </tr>
            </ng-template>
        </p-table>
	</fieldset>
</main>
